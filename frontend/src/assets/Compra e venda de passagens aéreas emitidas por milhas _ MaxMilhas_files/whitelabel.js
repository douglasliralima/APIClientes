/*! Running Whitelabel v1.5.5 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whitelabel",[],t):"object"==typeof exports?exports.whitelabel=t():e.whitelabel=t()}(this,function(){return function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(t);m.length;)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={1:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=this.webpackJsonp_name_=this.webpackJsonp_name_||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;return a.push(["./src/index.js",0]),n()}({"./package.json":function(e){e.exports=JSON.parse('{"name":"@maxmilhas/whitelabel-cobranded","version":"1.5.5","description":"O loader.js é o script responsável por realizar as modificações necessárias para converter o site da MaxMilhas em um site personalizado para o nosso parceiro.","main":"lib/js/whitelabel.js","files":["lib/"],"dependencies":{"webpack-cli":"^3.3.6","webpack":"^4.39.0"},"devDependencies":{"@babel/cli":"^7.5.5","@babel/core":"^7.5.5","@babel/plugin-proposal-class-properties":"^7.5.5","@babel/plugin-proposal-object-rest-spread":"^7.5.5","@babel/plugin-transform-runtime":"^7.5.5","@babel/plugin-transform-spread":"^7.2.2","@babel/preset-env":"^7.5.5","@babel/runtime":"^7.5.5","@semantic-release/changelog":"^3.0.4","@semantic-release/commit-analyzer":"^6.3.0","@semantic-release/git":"^7.0.16","@semantic-release/release-notes-generator":"^7.3.0","babel-eslint":"^10.0.2","babel-loader":"^8.0.6","commitizen":"^4.0.3","compression-webpack-plugin":"^3.0.0","conventional-changelog-eslint":"^3.0.1","copy-webpack-plugin":"^5.0.4","core-js":"^3.1.4","cz-conventional-changelog":"^3.0.2","dotenv":"^8.0.0","eslint":"^6.1.0","eslint-config-prettier":"^6.0.0","eslint-loader":"^2.2.1","eslint-plugin-import":"^2.18.2","eslint-plugin-prettier":"^3.1.0","husky":"^3.0.3","prettier":"^1.18.2","semantic-release":"^15.13.21","terser-webpack-plugin":"^1.4.1","webpack-bundle-analyzer":"^3.4.1"},"scripts":{"build":"webpack","profile:generate":"webpack --profile --json > stats.json","profile:view":"webpack-bundle-analyzer ./stats.json","start":"webpack --mode development","lint":"eslint --cache src","commit":"git-cz","release":"semantic-release"},"repository":{"type":"git","url":"git+ssh://git@bitbucket.org/mamilhas/whitelabel-cobranded.git"},"author":"MaxMilhas","license":"ISC","homepage":"https://bitbucket.org/maxmilhas/whitelabel-cobranded#readme","config":{"commitizen":{"path":"./node_modules/cz-conventional-changelog"}},"husky":{"hooks":{"pre-commit":"npm run lint","prepare-commit-msg":"exec < /dev/tty && git cz --hook"}},"release":{"branch":"master","npmPublish":false,"githubPublish":false,"repositoryUrl":"https://ridermansousa@bitbucket.org/maxmilhas/whitelabel-cobranded.git","plugins":["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog","@semantic-release/git"]}}')},"./src/index.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.array.map.js");var o=n("./node_modules/@babel/runtime/regenerator/index.js"),r=n.n(o),a=(n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=n.n(a);n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js");function s(e){if(!e.ok)throw Error(e.statusText);return e}var l=document.location.host,c=function(){return fetch("".concat("https://22njt8ajnh.execute-api.us-east-1.amazonaws.com/prd/whitelabel","/").concat(l)).then(s).then(function(e){return e.json()})},d='\n.wl-loader-container{ width: 100vw; height: 100vh; background-color: #fff; position: fixed; z-index: 999999; top: 0; }\n.wl-loader { margin: 0; height: 5px; width: 100%; position: absolute; overflow: hidden; background-color: #ddd; }\n.wl-loader:before{ display: block; position: absolute; content: ""; left: -200px; width: 200px; height: 5px; background-color: #337ab7; animation: loading 2s linear infinite; }\n@keyframes loading { from {left: -200px; width: 30%;} 50% {width: 30%;} 70% {width: 70%;} 80% { left: 50%;} 95% {left: 120%;} to {left: 100%;} }\n';n("./node_modules/core-js/modules/es.string.replace.js");var u=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),m=n.n(u);var p=function(e){!function(e){if(void 0!==e.envelope.title_01&&(document.querySelector("#body.comprar-passagens #envelope .envelope-caption h1").innerHTML=e.envelope.title_01),void 0!==e.envelope.title_02&&(document.querySelector("#body.comprar-passagens #envelope .envelope-caption h2").innerHTML=e.envelope.title_02),void 0!==e.envelope.title_03){var t=document.createElement("h3");t.setAttribute("class","hidden-xs hidden-sm"),t.innerHTML=e.envelope.title_03,document.querySelector("#body.comprar-passagens .comprar-passagens--envelope .container-fluid").appendChild(t),document.querySelector("#envelope .mm-badges").style.display="none"}!1===e.comprar_passagens&&(document.querySelector("#body.comprar-passagens .comprar-passagens--seosection").style.display="none"),e.partner_gender&&e.partner_name&&(m()(document.querySelectorAll(".bestprices-box .travel-leg__chunk--lessprice")).map(function(t){t.innerHTML=t.innerHTML.replace("na","n".concat(e.partner_gender)),t.querySelector(".blue").innerText=e.partner_name}),m()(document.querySelectorAll(".bestprices-box .is-maxmilhas")).map(function(t){return t.innerText=e.partner_name}))}(e),function(e){if(0!=e){document.querySelector("#body.comprar-passagens .about .about-box h3").innerHTML=e.title;var t=document.querySelectorAll("#body.comprar-passagens .about .about-box .swiper-slide");m()(t).map(function(t,n){var o=t.dataset.swiperSlideIndex?t.dataset.swiperSlideIndex:n;t.querySelector(".swiper-slide div[class|=img]").style.backgroundImage="url(".concat(e.steps[o].icon,")"),t.querySelector(".swiper-slide h4").innerHTML=e.steps[o].title,t.querySelector(".swiper-slide p").innerHTML=e.steps[o].description})}else{document.querySelector("#body footer.oldfooter").style.marginTop="24px",document.getElementById("about-us").style.display="none"}}(e.how_it_works),function(){document.querySelector("#search-form-section").classList.add("hidden");var e=document.querySelector("#envelope > div"),t=document.querySelector(".mm-badges"),n=document.createElement("div");n.setAttribute("id","search-form-section-custom"),e.insertBefore(n,t);var o={id:"search-form-section-custom",params:{},type:"horizontal",logo:!1,host:"https://"+l,target:"same-window"};window.innerWidth<=768&&(o.type="vertical");var r="maxmilhas-widget-js";if(!document.getElementById(r)){var a=document.createElement("script");a.id=r,a.type="text/javascript",a.src="https://widget.maxmilhas.com.br/v2/js/widget.js",a.async=!0,a.onload=a.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"===e||"loaded"===e)try{new MaxMilhas(o)}catch(e){}},document.body.appendChild(a)}}()};n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.string.link.js");var f=function(e){!function(e){var t=e.partner_gender&&e.partner_name,n=!1===e.reasons_to_buy,o=!!e.reasons_to_buy,r=document.querySelector(".new-card.benefits-mm-box");if(n)r.remove();else if(o){r.querySelector("h4").innerText=e.reasons_to_buy.title,e.reasons_to_buy.description&&r.querySelector("header").appendChild(document.createTextNode(e.reasons_to_buy.description));var a=e.reasons_to_buy.benefits.map(function(t,n){return'<div class="benefits-mm-box-row'.concat(n+1===e.reasons_to_buy.benefits.length?" border-line":"",'">\n            <i class="icon icon-check v-center-columns"></i>\n            <p class="value-line v-center-columns"> ').concat(t,"</p>\n        </div>")}),i=e.reasons_to_buy.images.map(function(e){return'<a href="'.concat(e.link,'" target="_blank">\n                    <img class="img-responsive" src="').concat(e.image,'">\n                </a>\n                ')});r.querySelector(".new-card__content").innerHTML="\n            ".concat(a.join(""),'\n            <div class="certificates">\n                ').concat(i.join(""),"\n            </div>")}else t&&m()(document.querySelectorAll(".checkout-wrapper .benefits-mm-box .new-card__title")).map(function(t){return t.innerText=t.innerText.replace("na MaxMilhas","n".concat(e.partner_gender," ").concat(e.partner_name))})}(e)};function b(e){m()(document.querySelectorAll(".highlight-price .price .small")).map(function(t){return t.innerHTML=t.innerHTML.replace("na MaxMilhas","n".concat(e.partner_gender," ").concat(e.partner_name))}),m()(document.querySelectorAll(".flight-item-price .exclusive")).map(function(t){return t.innerHTML=t.innerHTML.replace("na MaxMilhas","n".concat(e.partner_gender," ").concat(e.partner_name))})}var h=function(e){var t=new MutationObserver(function(t,n){document.querySelector(".filter-flights")||(n.disconnect(),e())});if(document.querySelector(".filter-flights"))return t.observe(document.body,{attributes:!1,childList:!0,subtree:!0})},y=function(e){var t;t=setInterval(function(){(function(e){e.partner_gender&&e.partner_name&&b(e)}(e),document.querySelector(".general-info .airports-preloader .lead"))&&(e.partner_gender&&e.partner_name&&function(e){var t=document.querySelector(".flights-wrapper");new MutationObserver(function(){b(e)}).observe(t,{attributes:!0,childList:!1,subtree:!0})}(e),clearInterval(t))},800)};function g(e){e.partner_gender&&e.partner_name&&document.querySelector(".checkoutpage").addEventListener("click",function(){setTimeout(function(){var e;(e=document.querySelector('label[for="sameAddress"]'))&&(e.style.display="none")},600)})}var v=function(e){var t=new MutationObserver(function(t,n){document.querySelector(".checkoutpage")||(n.disconnect(),e())});if(document.querySelector(".checkoutpage"))return t.observe(document.body,{attributes:!0,childList:!0,subtree:!0})},w=function(e){g(e)};var _,x,j,k,S,q,M,T,L,E,H=function(e){!function(e){if(e.partner_gender&&e.partner_name){var t=document.querySelector(".afterpaymentpage section.card-details ul > li:nth-child(5) strong");t.innerHTML=t.innerHTML.replace("MaxMilhas",e.partner_name),t.innerHTML=t.innerHTML.replace("pela","pel".concat(e.partner_gender));var n=document.querySelector("#quest-form-wrapper .form-quest div:nth-child(2) > div > p");n.innerHTML=n.innerHTML.replace("a MaxMilhas","".concat(e.partner_gender," ").concat(e.partner_name))}}(e)},I=(n("./package.json"),/.+comprar-passagens$/gim),O=/.+busca-passagens-aereas\/(OW|RT)\/.+\/[A-Z]{2}$/gim,z=/.+\/pagamento(\?id=.+)?/gim,A=/.*\/pagamento-finalizado$/gim;function B(){j=!1,k=document.location.pathname,I.lastIndex=0,O.lastIndex=0,O.lastIndex=0,z.lastIndex=0,A.lastIndex=0,_=0,x=0,S=I.test(k),M="#checkout"===window.location.hash,q=O.test(k)&&!M,T=A.test(k),L=z.test(k)&&!T,E=["www.maxmilhas.com.br","www-stg.maxmilhas.com.br","website.mm"]}function C(){var e;if(-1===E.indexOf(l))try{!function(){var e=document.querySelector("body"),t=document.createElement("div");t.setAttribute("class","wl-loader-container"),t.innerHTML='<div class="wl-loader"></div>',e.prepend(t);var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");n.appendChild(o),o.type="text/css",o.styleSheet?o.styleSheet.cssText=d:o.appendChild(document.createTextNode(d))}(),B(),e=P,"complete"===document.readyState?e():window.addEventListener("load",e)}catch(e){}}function P(){return N.apply(this,arguments)}function N(){return(N=i()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:t=e.sent,_=t.whitelabel.css_files.length,x=t.whitelabel.js_files.length,t.whitelabel.css_files.map($),t.whitelabel.js_files.map(D),W(t.whitelabel.text_json.footer.logo),F(),(n=null!==document.querySelector("#body footer.oldfooter")?document.querySelector("#body footer.oldfooter"):document.querySelector("footer"))&&(R(n,t.whitelabel.text_json,S),G(t.whitelabel.text_json.footer.links),U(t.whitelabel.text_json.footer.social_networks)),S?p(t.whitelabel.text_json):q?(y(t.whitelabel.text_json),h(C)):M?f(t.whitelabel.text_json):L?(w(t.whitelabel.text_json),v(C)):T&&H(t.whitelabel.text_json),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0);case 18:return e.prev=18,j=!0,J(),e.finish(18);case 22:case"end":return e.stop()}},e,null,[[0,15,18,22]])}))).apply(this,arguments)}function J(){j&&0===_&&0===x&&(document.querySelector(".wl-loader-container").style.display="none")}function $(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e.file_url),document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){_--,J()}}function D(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e.file_url),document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){x--,J()}}function W(e){if(document.querySelector("#body #header-fixed .logo-mm::before")){document.querySelector("#body #header-fixed .logo-mm::before").style.backgroundImage=e}}function F(){var e=document.querySelector("header .order-md-1");null!==e&&(e.innerHTML="");var t=document.querySelector("header .order-md-2");null!==t&&(t.innerHTML="")}function G(e){if(e){var t=e.reduce(function(e,t){return e+='<a href="'.concat(t.url,'" target="_blank">').concat(t.title,"</a>")},"");document.querySelector("#body footer .ml-footer .infos .ml-nav").innerHTML=t}}function R(e,t,n){var o="Copyright &copy; ".concat((new Date).getFullYear()),r=t.footer.copyright?t.footer.copyright:o,a='<footer class="ml-footer">\n  <img src="'.concat(t.footer.logo,'" class="ml-logo-footer">\n  <div class="container-fluid">\n      <div class="row infos">\n          <nav class="ml-nav"> </nav>\n          <div class="ml-connect connect">\n              <div class="ml-social-media social-media">\n                  <a id="ft-facebook" target="_blank" href="https://www.maxmilhas.com.br/comprar-passagens" style="display: none;"><i class="icon-facebook"></i></a>\n                  <a id="ft-instagram" target="_blank" href="https://www.maxmilhas.com.br/comprar-passagens" style="display: none;"><i class="icon-instagram"></i></a>\n                  <a id="ft-twitter" target="_blank" href="https://www.maxmilhas.com.br/comprar-passagens" style="display: none;"><i class="icon-twitter"></i></a>\n                  <a id="ft-youtube" target="_blank" href="https://www.maxmilhas.com.br/comprar-passagens" style="display: none;"><i class="icon-youtube"></i></a>\n                  <a id="ft-linkedin" target="_blank" href="https://www.maxmilhas.com.br/comprar-passagens" style="display: none;"><i class="icon-linkedin"></i></a>\n              </div>\n          </div>\n          ').concat(t.footer.mm_logo?'<div class="ml-maxmilhas-partner maxmilhas-partner">\n  <p>Parceiro</p>\n  <a href="https://www.maxmilhas.com.br/">\n  <img src="https://mm-prd-marketing-whitelabel.s3.amazonaws.com/image/logo-white.svg"/>\n  </a>\n</div>\n':"",'\n          <div class="copyright-wrapper">\n            <p>').concat(r,"</p>\n          </div>\n      </div>\n  </div>\n</footer>"),i='<section class="ml-about">\n<div class="container-fluid ml-about-container">\n    <div class="row common-box ml-about-content">\n        <img src="'.concat(t.about.logo,'" class="ml-logo-about-footer">\n        <div class="content">\n            <h4>').concat(t.about.title,"</h4>\n            <p>").concat(t.about.description,"</p>\n        </div>\n    </div>\n</div>\n</section>");e.innerHTML="".concat(n?i:""," ").concat(a),n||(e.style.marginTop="24px")}function U(e){if(!e)return document.querySelector("#body footer .infos .ml-nav").style.display="none",void(document.querySelector("#body footer .infos .connect").style.display="none");void 0!==e.facebook&&(document.getElementById("ft-facebook").href=e.facebook,document.getElementById("ft-facebook").style.display=""),void 0!==e.instagram&&(document.getElementById("ft-instagram").href=e.instagram,document.getElementById("ft-instagram").style.display=""),void 0!==e.twitter&&(document.getElementById("ft-twitter").href=e.twitter,document.getElementById("ft-twitter").style.display=""),void 0!==e.youtube&&(document.getElementById("ft-youtube").href=e.youtube,document.getElementById("ft-youtube").style.display=""),void 0!==e.linkedin&&(document.getElementById("ft-linkedin").href=e.linkedin,document.getElementById("ft-linkedin").style.display="")}B();t.default=function(){C()};C()}})});
//# sourceMappingURL=whitelabel.js.map